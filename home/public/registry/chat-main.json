{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "chat-main",
  "type": "registry:component",
  "title": "Chat Main",
  "description": "Main chat component that handles conversation state and switches between welcome and conversation views.",
  "dependencies": [],
  "files": [
    {
      "path": "https://raw.githubusercontent.com/ln-dev7/square-ui/master/templates/chat/components/chat/chat-main.tsx",
      "type": "registry:component",
      "target": "components/chat-main.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { ChatWelcomeScreen } from \"./chat-welcome-screen\";\nimport { ChatConversationView } from \"./chat-conversation-view\";\n\ninterface Message {\n  id: string;\n  content: string;\n  sender: \"user\" | \"ai\";\n  timestamp: Date;\n}\n\nexport function ChatMain() {\n  const [message, setMessage] = useState(\"\");\n  const [selectedMode, setSelectedMode] = useState(\"fast\");\n  const [selectedModel, setSelectedModel] = useState(\"square-3\");\n  const [isConversationStarted, setIsConversationStarted] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([]);\n\n  const handleSend = () => {\n    if (!message.trim()) return;\n\n    setIsConversationStarted(true);\n\n    setMessages([\n      {\n        id: \"1\",\n        content: message,\n        sender: \"user\",\n        timestamp: new Date(),\n      },\n      {\n        id: \"2\",\n        content:\n          \"Hello! I'm Square AI, your intelligent assistant. I'm here to help you with anything you need. How can I assist you today?\",\n        sender: \"ai\",\n        timestamp: new Date(),\n      },\n    ]);\n    setMessage(\"\");\n  };\n\n  const handleReset = () => {\n    setIsConversationStarted(false);\n    setMessages([]);\n    setMessage(\"\");\n  };\n\n  const handleSendMessage = (content: string) => {\n    setMessages([\n      ...messages,\n      {\n        id: Date.now().toString(),\n        content,\n        sender: \"user\",\n        timestamp: new Date(),\n      },\n    ]);\n    setMessage(\"\");\n  };\n\n  if (isConversationStarted) {\n    return (\n      <ChatConversationView\n        messages={messages}\n        message={message}\n        onMessageChange={setMessage}\n        onSend={handleSendMessage}\n        onReset={handleReset}\n      />\n    );\n  }\n\n  return (\n    <ChatWelcomeScreen\n      message={message}\n      onMessageChange={setMessage}\n      onSend={handleSend}\n      selectedMode={selectedMode}\n      onModeChange={setSelectedMode}\n      selectedModel={selectedModel}\n      onModelChange={setSelectedModel}\n    />\n  );\n}\n"
    }
  ]
}
