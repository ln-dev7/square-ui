{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "email-detail",
  "type": "registry:component",
  "title": "Email Detail",
  "description": "Email detail view component with full email content display, navigation, and actions.",
  "registryDependencies": [
    "button",
    "avatar",
    "dropdown-menu",
    "tooltip"
  ],
  "dependencies": [
    "@radix-ui/react-avatar",
    "@radix-ui/react-dropdown-menu",
    "@radix-ui/react-tooltip",
    "date-fns",
    "lucide-react",
    "zustand"
  ],
  "files": [
    {
      "path": "https://raw.githubusercontent.com/ln-dev7/square-ui/master/templates/emails/components/emails/email-detail.tsx",
      "type": "registry:component",
      "target": "components/email-detail.tsx",
      "content": "\"use client\";\n\nimport { format } from \"date-fns\";\nimport {\n  SparklesIcon,\n  ArchiveIcon,\n  Settings2Icon,\n  Trash2Icon,\n  MailPlusIcon,\n  FolderOpenIcon,\n  MoreVerticalIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  StarIcon,\n  CircleArrowOutUpRightIcon,\n  ReceiptTextIcon,\n  ShieldIcon,\n  XIcon,\n  FileTextIcon,\n  FileSpreadsheetIcon,\n  FileIcon,\n  ImageIcon,\n  FileArchiveIcon,\n  ClockIcon,\n  CheckCheckIcon,\n  CalendarIcon,\n  TagIcon,\n  FilterIcon,\n  Volume2Icon,\n} from \"lucide-react\";\nimport { useEmailsStore } from \"@/store/emails-store\";\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { VerifiedIcon } from \"@/components/ui/verified-icon\";\nimport { cn } from \"@/lib/utils\";\n\nfunction getFileIcon(type: string) {\n  if (type.includes(\"pdf\")) {\n    return FileTextIcon;\n  } else if (type.includes(\"word\") || type.includes(\"document\")) {\n    return FileTextIcon;\n  } else if (type.includes(\"excel\") || type.includes(\"spreadsheet\")) {\n    return FileSpreadsheetIcon;\n  } else if (type.includes(\"powerpoint\") || type.includes(\"presentation\")) {\n    return FileTextIcon;\n  } else if (\n    type.includes(\"image\") ||\n    type.includes(\"png\") ||\n    type.includes(\"jpg\") ||\n    type.includes(\"jpeg\")\n  ) {\n    return ImageIcon;\n  } else if (type.includes(\"zip\") || type.includes(\"archive\")) {\n    return FileArchiveIcon;\n  }\n  return FileIcon;\n}\n\nfunction getFileGradient(type: string) {\n  if (type.includes(\"pdf\")) {\n    return { start: \"#f75936\", end: \"#a73a24\" };\n  } else if (type.includes(\"word\") || type.includes(\"document\")) {\n    return { start: \"#2b5797\", end: \"#1e3d6b\" };\n  } else if (type.includes(\"excel\") || type.includes(\"spreadsheet\")) {\n    return { start: \"#217346\", end: \"#165530\" };\n  } else if (type.includes(\"powerpoint\") || type.includes(\"presentation\")) {\n    return { start: \"#d04423\", end: \"#9b3319\" };\n  } else if (\n    type.includes(\"image\") ||\n    type.includes(\"png\") ||\n    type.includes(\"jpg\") ||\n    type.includes(\"jpeg\")\n  ) {\n    return { start: \"#8b5cf6\", end: \"#6d28d9\" };\n  } else if (type.includes(\"zip\") || type.includes(\"archive\")) {\n    return { start: \"#f59e0b\", end: \"#d97706\" };\n  }\n  return { start: \"#6b7280\", end: \"#4b5563\" };\n}\n\nexport function EmailDetail() {\n  const {\n    emails,\n    selectedEmailId,\n    toggleStar,\n    clearSelectedEmail,\n    selectEmail,\n  } = useEmailsStore();\n  const email = emails.find((e) => e.id === selectedEmailId);\n\n  // Get current email index\n  const currentIndex = emails.findIndex((e) => e.id === selectedEmailId);\n  const isFirstEmail = currentIndex === 0;\n  const isLastEmail = currentIndex === emails.length - 1;\n\n  // Navigation functions\n  const goToPreviousEmail = () => {\n    if (!isFirstEmail && currentIndex > 0) {\n      selectEmail(emails[currentIndex - 1].id);\n    }\n  };\n\n  const goToNextEmail = () => {\n    if (!isLastEmail && currentIndex < emails.length - 1) {\n      selectEmail(emails[currentIndex + 1].id);\n    }\n  };\n\n  if (!email) {\n    return (\n      <div className=\"flex h-full items-center justify-center bg-card\">\n        <div className=\"text-center text-muted-foreground\">\n          <p>Select an email to read</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-full flex-col bg-card\">\n      <div className=\"flex items-center justify-between border-b border-border px-3 md:px-6 py-3 md:py-4\">\n        <div className=\"hidden lg:flex items-center gap-3\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon-sm\">\n                <SparklesIcon className=\"size-4 text-foreground\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>AI Assistant</p>\n            </TooltipContent>\n          </Tooltip>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon-sm\">\n                <ArchiveIcon className=\"size-4 text-muted-foreground\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>Archive</p>\n            </TooltipContent>\n          </Tooltip>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon-sm\">\n                <Settings2Icon className=\"size-4 text-muted-foreground\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>Mark as spam</p>\n            </TooltipContent>\n          </Tooltip>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon-sm\">\n                <Trash2Icon className=\"size-4 text-muted-foreground\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>Delete</p>\n            </TooltipContent>\n          </Tooltip>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon-sm\">\n                <MailPlusIcon className=\"size-4 text-muted-foreground\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>Mark as unread</p>\n            </TooltipContent>\n          </Tooltip>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon-sm\">\n                <FolderOpenIcon className=\"size-4 text-muted-foreground\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>Move to folder</p>\n            </TooltipContent>\n          </Tooltip>\n\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon-sm\">\n                <MoreVerticalIcon className=\"size-4 text-muted-foreground\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"start\" className=\"w-64\">\n              <DropdownMenuItem>\n                <ClockIcon className=\"size-4 mr-2\" />\n                Snooze\n              </DropdownMenuItem>\n              <DropdownMenuItem>\n                <CheckCheckIcon className=\"size-4 mr-2\" />\n                Add to Tasks\n              </DropdownMenuItem>\n              <DropdownMenuItem>\n                <CalendarIcon className=\"size-4 mr-2\" />\n                Create event\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuSub>\n                <DropdownMenuSubTrigger>\n                  <TagIcon className=\"size-4 mr-2\" />\n                  Label as\n                </DropdownMenuSubTrigger>\n                <DropdownMenuSubContent>\n                  <DropdownMenuItem>Work</DropdownMenuItem>\n                  <DropdownMenuItem>Personal</DropdownMenuItem>\n                  <DropdownMenuItem>Important</DropdownMenuItem>\n                  <DropdownMenuItem>Travel</DropdownMenuItem>\n                </DropdownMenuSubContent>\n              </DropdownMenuSub>\n              <DropdownMenuItem>\n                <FilterIcon className=\"size-4 mr-2\" />\n                Filter messages like these\n              </DropdownMenuItem>\n              <DropdownMenuItem>\n                <Volume2Icon className=\"size-4 mr-2\" />\n                Mute\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem>\n                <Settings2Icon className=\"size-4 mr-2\" />\n                Switch to advanced toolbar\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        <div className=\"flex lg:hidden items-center gap-1 md:gap-2\">\n          <Button variant=\"ghost\" size=\"icon-sm\">\n            <SparklesIcon className=\"size-4 text-foreground\" />\n          </Button>\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon-sm\">\n                <MoreVerticalIcon className=\"size-4 text-muted-foreground\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"start\" className=\"w-48\">\n              <DropdownMenuItem>\n                <ArchiveIcon className=\"size-4\" />\n                <span>Archive</span>\n              </DropdownMenuItem>\n              <DropdownMenuItem>\n                <Settings2Icon className=\"size-4\" />\n                <span>Settings</span>\n              </DropdownMenuItem>\n              <DropdownMenuItem variant=\"destructive\">\n                <Trash2Icon className=\"size-4\" />\n                <span>Delete</span>\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem>\n                <MailPlusIcon className=\"size-4\" />\n                <span>Mark as unread</span>\n              </DropdownMenuItem>\n              <DropdownMenuItem>\n                <FolderOpenIcon className=\"size-4\" />\n                <span>Move to folder</span>\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        <div className=\"flex items-center gap-2 md:gap-3\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon-sm\"\n            onClick={clearSelectedEmail}\n            className=\"hidden md:flex\"\n          >\n            <XIcon className=\"size-4 text-muted-foreground\" />\n          </Button>\n          <p className=\"hidden sm:block text-[11px] md:text-[13px] text-muted-foreground whitespace-nowrap\">\n            {currentIndex + 1} from {emails.length}\n          </p>\n          <div className=\"flex items-center gap-0.5 md:gap-1\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon-sm\"\n              onClick={goToPreviousEmail}\n              disabled={isFirstEmail}\n            >\n              <ChevronLeftIcon\n                className={cn(\n                  \"size-4\",\n                  isFirstEmail\n                    ? \"text-muted-foreground/30\"\n                    : \"text-muted-foreground\"\n                )}\n              />\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"icon-sm\"\n              onClick={goToNextEmail}\n              disabled={isLastEmail}\n            >\n              <ChevronRightIcon\n                className={cn(\n                  \"size-4\",\n                  isLastEmail\n                    ? \"text-muted-foreground/30\"\n                    : \"text-muted-foreground\"\n                )}\n              />\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"border-b border-border px-3 md:px-6 py-3 md:py-4\">\n        <div className=\"flex items-start md:items-center justify-between gap-2 md:gap-4\">\n          <div className=\"flex items-start md:items-center gap-2 md:gap-2.5 flex-1 min-w-0\">\n            <Avatar className=\"size-8 md:size-10 shrink-0\">\n              <AvatarImage src={email.from.avatar} alt={email.from.name} />\n              <AvatarFallback>{email.from.name.charAt(0)}</AvatarFallback>\n            </Avatar>\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-1\">\n                <p className=\"font-medium text-sm md:text-base text-foreground truncate\">\n                  {email.from.name}\n                </p>\n                {email.from.verified && (\n                  <VerifiedIcon className=\"size-3 md:size-4 shrink-0\" />\n                )}\n              </div>\n              <p className=\"text-[12px] md:text-[14px] text-muted-foreground truncate\">\n                <span className=\"hidden sm:inline\">From: </span>\n                <span className=\"text-foreground\">{email.from.email}</span>\n              </p>\n              <p className=\"text-[11px] md:hidden text-muted-foreground mt-0.5\">\n                {format(email.date, \"MMM dd, yyyy\")}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"hidden md:flex items-center gap-3 lg:gap-4\">\n            <p className=\"hidden lg:block text-[14px] text-muted-foreground opacity-70 whitespace-nowrap\">\n              {format(email.date, \"MMMM dd, yyyy hh:mm\")}\n            </p>\n            <Button\n              variant=\"ghost\"\n              size=\"icon-sm\"\n              onClick={() => toggleStar(email.id)}\n            >\n              <StarIcon\n                className={cn(\n                  \"size-4\",\n                  email.starred\n                    ? \"fill-yellow-500 text-yellow-500\"\n                    : \"text-muted-foreground\"\n                )}\n              />\n            </Button>\n            <Button variant=\"ghost\" size=\"icon-sm\" className=\"hidden lg:flex\">\n              <CircleArrowOutUpRightIcon className=\"size-4 text-muted-foreground\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"icon-sm\" className=\"hidden lg:flex\">\n              <ReceiptTextIcon className=\"size-4 text-muted-foreground\" />\n            </Button>\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon-sm\">\n                  <MoreVerticalIcon className=\"size-4 text-muted-foreground\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-48\">\n                <DropdownMenuItem className=\"lg:hidden\">\n                  <CircleArrowOutUpRightIcon className=\"size-4\" />\n                  <span>Reply</span>\n                </DropdownMenuItem>\n                <DropdownMenuItem className=\"lg:hidden\">\n                  <ReceiptTextIcon className=\"size-4\" />\n                  <span>Forward</span>\n                </DropdownMenuItem>\n                <DropdownMenuSeparator className=\"lg:hidden\" />\n                <DropdownMenuItem>\n                  <ArchiveIcon className=\"size-4\" />\n                  <span>Archive</span>\n                </DropdownMenuItem>\n                <DropdownMenuItem variant=\"destructive\">\n                  <Trash2Icon className=\"size-4\" />\n                  <span>Delete</span>\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n\n          <div className=\"flex md:hidden items-center gap-1 shrink-0\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon-sm\"\n              onClick={() => toggleStar(email.id)}\n            >\n              <StarIcon\n                className={cn(\n                  \"size-4\",\n                  email.starred\n                    ? \"fill-yellow-500 text-yellow-500\"\n                    : \"text-muted-foreground\"\n                )}\n              />\n            </Button>\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon-sm\">\n                  <MoreVerticalIcon className=\"size-4 text-muted-foreground\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-48\">\n                <DropdownMenuItem>\n                  <CircleArrowOutUpRightIcon className=\"size-4\" />\n                  <span>Reply</span>\n                </DropdownMenuItem>\n                <DropdownMenuItem>\n                  <ReceiptTextIcon className=\"size-4\" />\n                  <span>Forward</span>\n                </DropdownMenuItem>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem>\n                  <ArchiveIcon className=\"size-4\" />\n                  <span>Archive</span>\n                </DropdownMenuItem>\n                <DropdownMenuItem variant=\"destructive\">\n                  <Trash2Icon className=\"size-4\" />\n                  <span>Delete</span>\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto px-3 md:px-6 py-3 md:py-4\">\n        <p className=\"mb-3 md:mb-4 text-[18px] md:text-[20px] font-medium leading-tight tracking-tight text-foreground\">\n          {email.subject}\n        </p>\n\n        <div className=\"whitespace-pre-wrap text-[13px] md:text-[14px] leading-relaxed tracking-tight text-foreground/80 dark:text-[#cccccc]\">\n          {email.body}\n        </div>\n\n        {email.attachments && email.attachments.length > 0 && (\n          <div className=\"mt-4 md:mt-6\">\n            <div className=\"mb-2 flex items-center gap-1.5\">\n              <p className=\"text-[12px] md:text-[13px] font-semibold text-foreground\">\n                Attachment\n              </p>\n              <div className=\"flex items-center gap-0.5\">\n                <p className=\"text-[11px] md:text-[12px] text-muted-foreground\">\n                  Secure by\n                </p>\n                <p className=\"text-[11px] md:text-[12px] text-foreground\">\n                  data.ai\n                </p>\n                <ShieldIcon className=\"size-3 md:size-4 text-[#38bdf8]\" />\n              </div>\n            </div>\n\n            <div className=\"flex flex-wrap gap-2\">\n              {email.attachments.map((attachment) => {\n                const FileIconComponent = getFileIcon(attachment.type);\n                const gradient = getFileGradient(attachment.type);\n\n                return (\n                  <div\n                    key={attachment.id}\n                    className=\"flex items-center gap-2 rounded-md border border-border bg-muted px-2 md:px-3 py-1.5\"\n                  >\n                    <div\n                      className=\"size-5 md:size-6 shrink-0 flex items-center justify-center rounded\"\n                      style={{\n                        background: `linear-gradient(135deg, ${gradient.start}, ${gradient.end})`,\n                      }}\n                    >\n                      <FileIconComponent className=\"size-3 md:size-3.5 text-white\" />\n                    </div>\n                    <div className=\"leading-tight\">\n                      <p className=\"text-[12px] md:text-[13px] font-medium text-foreground truncate max-w-[150px] md:max-w-none\">\n                        {attachment.name}\n                      </p>\n                      <p className=\"text-[11px] md:text-[12px] text-muted-foreground\">\n                        {attachment.size}\n                      </p>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"
    }
  ]
}
